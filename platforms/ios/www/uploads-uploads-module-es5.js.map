{"version":3,"sources":["webpack:///uploads/uploads.page.html","webpack:///uploads/uploads-routing.module.ts","webpack:///uploads/uploads.module.ts","webpack:///uploads/uploads.page.scss","webpack:///uploads/uploads.page.ts"],"names":["routes","path","component","UploadsPageRoutingModule","imports","forChild","exports","UploadsPageModule","declarations","UploadsPage","cloudFiles","showFullPath","loadFiles","storageRef","ref","listAll","then","result","items","forEach","name","fullPath","getDownloadURL","full","url","push","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,wBAAwB;AAAA;AAAA,O;;AAAxBA,8BAAwB,6DAJpC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIoC,GAAxBH,wBAAwB,CAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCGAI,iBAAiB;AAAA;AAAA,O;;AAAjBA,uBAAiB,6DAT7B,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,gFAJO,CADD;AAORI,oBAAY,EAAE,CAAC,yDAAD;AAPN,OAAT,CAS6B,GAAjBD,iBAAiB,CAAjB;;;;;;;;;;;;;;;;ACnBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCSFE,WAAW;AAItB,+BAAc;AAAA;;AAHd,eAAAC,UAAA,GAAa,EAAb;AACA,eAAAC,YAAA,GAAe,KAAf;AAEiB;;AAJK;AAAA;AAAA,qCAMX;AACT,iBAAKC,SAAL;AACD;AARqB;AAAA;AAAA,sCAUV;AAAA;;AACV,iBAAKF,UAAL,GAAkB,EAAlB;AAEA,gBAAMG,UAAU,GAAG,uDAAmBC,GAAnB,CAAuB,OAAvB,CAAnB;AACAD,sBAAU,CAACE,OAAX,GAAqBC,IAArB,CAA0B,UAAAC,MAAM,EAAI;AAClCA,oBAAM,CAACC,KAAP,CAAaC,OAAb,CAAqB,UAAML,GAAN;AAAA,uBAAa;AAAA;AAAA;AAAA;AAAA;AAAA,wCAChC,KAAKJ,UAD2B;AAAA,wCAExBI,GAAG,CAACM,IAFoB;AAAA,wCAGxBN,GAAG,CAACO,QAHoB;AAAA;AAIzB,iCAAMP,GAAG,CAACQ,cAAJ,EAAN;;AAJyB;AAAA;AAAA,wCAKzBR,GALyB;AAAA;AAE9BM,gCAF8B;AAG9BG,gCAH8B;AAI9BC,+BAJ8B;AAK9BV,+BAL8B;AAAA;;AAAA,sCAChBW,IADgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAb;AAAA,eAArB;AAQD,aATD;AAUD,WAxBqB,CA0BtB;AACA;AACA;;AA5BsB;AAAA;AAAA,qCA8BXX,GA9BW,EA8BsB;AAAA;;AAC1CA,eAAG,UAAH,GAAaE,IAAb,CAAkB,YAAM;AACtB,oBAAI,CAACJ,SAAL;AACD,aAFD;AAGD;AAlCqB;;AAAA;AAAA,S;;;;;;AAAXH,iBAAW,6DALvB,gEAAU;AACTiB,gBAAQ,EAAE,aADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,wFAFS;;;;AAAA,OAAV,CAKuB,GAAXlB,WAAW,CAAX","file":"uploads-uploads-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"tertiary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>On Cloud</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n \\n<ion-content>\\n  <ion-list>\\n    <ion-item *ngFor=\\\"let f of cloudFiles\\\">\\n       <ion-label class=\\\"ion-text-wrap\\\"> <a [href]=f.url target=\\\"_blank\\\" rel=\\\"noopener\\\">Download</a></ion-label>\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <img [src]=f.url />\\n      </ion-thumbnail>\\n      <ion-button slot=\\\"end\\\" (click)=\\\"deleteFile(f.ref)\\\" color=\\\"danger\\\">\\n        <ion-icon name=\\\"trash\\\" slot=\\\"icon-only\\\"></ion-icon>\\n      </ion-button>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\\n\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UploadsPage } from './uploads.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UploadsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UploadsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UploadsPageRoutingModule } from './uploads-routing.module';\n\nimport { UploadsPage } from './uploads.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    UploadsPageRoutingModule\n  ],\n  declarations: [UploadsPage]\n})\nexport class UploadsPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1cGxvYWRzL3VwbG9hZHMucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport * as firebase from 'firebase/app';\n\n\n@Component({\n  selector: 'app-uploads',\n  templateUrl: './uploads.page.html',\n  styleUrls: ['./uploads.page.scss'],\n})\nexport class UploadsPage implements OnInit {\n  cloudFiles = [];\n  showFullPath = false;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.loadFiles();\n  }\n\n  loadFiles() {\n    this.cloudFiles = [];\n \n    const storageRef = firebase.storage().ref('files');\n    storageRef.listAll().then(result => {\n      result.items.forEach(async ref => {\n        this.cloudFiles.push({\n          name: ref.name,\n          full: ref.fullPath,\n          url: await ref.getDownloadURL(),\n          ref: ref\n        });\n      });\n    });\n  }\n\n  // openExternal(url) {\n  //   this.iab.create(url);\n  // }\n \n  deleteFile(ref: firebase.storage.Reference) {\n    ref.delete().then(() => {\n      this.loadFiles();\n    });\n  }\n\n}\n"]}